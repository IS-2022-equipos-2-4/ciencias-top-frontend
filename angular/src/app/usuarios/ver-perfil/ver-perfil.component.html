<div class="p-3 mb-2 bg-light rounded-3">
  <div class="container-fluid py-4 text-center">
    <h1 class="display-7 fw-bold ">Perfil</h1>
  </div>
</div>
<div class="container rounded bg-white mt-1">
  <div class="row">
      <div class="col-md-4 border-right">
          <div class="d-flex flex-column align-items-center text-center p-3 py-5"><img class="rounded-circle mt-5" src="https://st1.uvnimg.com/7c/44/7fa505204853964f8df3cd00d8f2/8-logo-unam.png" width="270"><span class="font-weight-bold">{{usuario.nombre}}</span></div>
      </div>
      <div class="col-md-8">
          <div class="p-3 py-5">
            <div [ngModel]="usuario" name="usuario">
              <div class="row mt-2">
                <div class="col-md-6"> Nombre<input type="text" class="form-control" placeholder="Nombre" value={{usuario.nombre}} disabled></div>
              </div>
              <div class="row mt-3">
                <div class="col-md-6"> Correo<input type="text" class="form-control" placeholder="Correo" value={{usuario.correo}} disabled></div>
              </div>
              <div class="row mt-3">
                <div class="col-md-6"> Numero institucional<input type="text" class="form-control" placeholder="Numero Institucional" value={{usuario.numInstitucional}} disabled></div>
              </div>
              <div class="row mt-3">
                <div class="col-md-6"> Telefono<input type="text" class="form-control" placeholder="Telefono" value={{usuario.telefono}} disabled></div>
              </div>
              <div class="row mt-3">
                <div class="col-md-6"> Carrera<input type="text" class="form-control" placeholder="Carrera" value={{usuario.carrera}} disabled></div>  
              </div>
              <div class="row mt-3">
                <div class="col-md-6"> Puma puntos<input type="text" class="form-control" placeholder="Pumapuntos" value={{usuario.pumapuntos}} disabled></div>
              </div>
              <ng-template [ngIf]="usuario.esAdmin">
                <div class="col-md-6"> Rol<input type="text" class="form-control" placeholder="Roles" value="Administrador" disabled></div>
              </ng-template>
              <ng-template [ngIf]="usuario.esProveedor">
                <div class="col-md-6"> Rol<input type="text" class="form-control" placeholder="Roles" value="Proveedor" disabled></div>
              </ng-template>
              <div class="mt-5 text-right">
                <button class="btn btn-primary me-4 profile-button" type="button" [routerLink]="['/perfil/historial-rentas']" >
                  Ver Historial de productos rentados
                </button>
                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">
                  Modificar contraseña
                </button>
              </div>
          </div>
        </div>
      </div>
  </div>
</div>


<!-- Modal modificar contraseña-->
<div class="modal fade" id="myModal">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h3 class="modal-title">Cambio de contraseña</h3>
        <button #btnCerrar type="button" class="btn-close" data-bs-dismiss="modal" (click)="limpiar()"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <form>
          <div class="mb-3">
            <label for="message-text" class="col-form-label">Ingresa la nueva contraseña:</label>
            <input type="password" class="form-control" id="input-nueva-contraseña" [(ngModel)]="nuevaContrasena" name="nuevaContrasena" >
          </div>
          <div class="mb-3">
            <label for="message-text" class="col-form-label">Ingresa de nuevo la nueva contraseña:</label>
            <input type="password" class="form-control" id="input-confirmacion-contraseña" [(ngModel)]="confirmacionContrasena" name="confirmacionContrasena">
          </div>
        </form>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal" (click)="limpiar()">Cancelar</button>
        <button type="button" class="btn btn-primary" (click)="modificarContrasena()">
          Guardar cambios
        </button>
      </div>

    </div>
  </div>
</div>